!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.formable=e()}}(function(){return function e(r,t,n){function o(i,s){if(!t[i]){if(!r[i]){var a="function"==typeof require&&require;if(!s&&a)return a(i,!0);if(u)return u(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var f=t[i]={exports:{}};r[i][0].call(f.exports,function(e){var t=r[i][1][e];return o(t?t:e)},f,f.exports,e,r,t,n)}return t[i].exports}for(var u="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,r,t){"use strict";var n=function(){};r.exports=n},{}],2:[function(e,r,t){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,s=o(i),a=e("./helpers/identity"),l=o(a),f=e("./helpers/flatten"),d=o(f),p=e("./helpers/values"),c=o(p);t["default"]=s["default"].createClass({displayName:"Errors",propTypes:{errors:i.PropTypes.arrayOf(i.PropTypes.string),fieldErrors:i.PropTypes.oneOfType([i.PropTypes.array,i.PropTypes.object]),additionalErrors:i.PropTypes.arrayOf(i.PropTypes.string),scoped:i.PropTypes.bool,renderError:i.PropTypes.func,className:i.PropTypes.string},getDefaultProps:function(){return{errors:[],additionalErrors:[],fieldErrors:[],scoped:!1,renderError:l["default"],className:""}},render:function(){var e=this,r=this.props,t=r.errors,n=r.additionalErrors,o=r.scoped,i=(0,d["default"])((0,c["default"])(this.props.fieldErrors)).filter(function(e){return"string"==typeof e}),a=[].concat(o?i:t).concat(n),l=this.props.className+" errors";return s["default"].createElement("ul",u({},this.props,{className:l}),a.map(function(r,t){return s["default"].createElement("li",{key:t}," ",e.props.renderError(r)," ")}))}}),r.exports=t["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./helpers/flatten":10,"./helpers/identity":11,"./helpers/values":16}],3:[function(e,r,t){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,s=o(i),a=e("./helpers/values"),l=o(a),f=e("./fieldset"),d=o(f),p=e("warning"),c=o(p);t["default"]=s["default"].createClass({displayName:"Fieldlist",propTypes:{errors:i.PropTypes.arrayOf(i.PropTypes.string),fieldErrors:i.PropTypes.arrayOf(i.PropTypes.object),name:i.PropTypes.string.isRequired,children:i.PropTypes.node},getInputs:function(){return{ref:this,refs:(0,l["default"])(this.refs.fieldset.getInputs().refs).filter(function(e){return e.children&&(0,l["default"])(e.children).length})}},render:function(){var e=this;(0,c["default"])(this.props.name,"Fieldlist found without a name prop. The children of this component will behave eratically");var r=this.props.errors||[],t=this.props.fieldErrors||[];return s["default"].createElement(d["default"],u({},this.props,{ref:"fieldset",errors:[],fieldErrors:{}}),s["default"].Children.map(this.props.children,function(n,o){return s["default"].createElement(d["default"],{name:e.props.name+o,errors:r,fieldErrors:t[o]},n)}))}}),r.exports=t["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./fieldset":4,"./helpers/values":16,warning:1}],4:[function(e,r,t){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,i=o(u),s=e("./helpers/cloneChildren"),a=o(s),l=e("./helpers/values"),f=o(l),d=e("warning"),p=o(d),c=e("./helpers/tree"),h=o(c);t["default"]=i["default"].createClass({displayName:"Fieldset",propTypes:{errors:u.PropTypes.arrayOf(u.PropTypes.string),fieldErrors:u.PropTypes.object,name:u.PropTypes.string.isRequired,children:u.PropTypes.node,onChange:u.PropTypes.func,onSubmit:u.PropTypes.func},getInputs:function(){return{ref:this,refs:(0,f["default"])(this.refs||{}).filter(function(e){return e.getInputs||e.getValue}).map(function(e){return e.getInputs?e.getInputs():{ref:e}}).map(function(e){return(0,h["default"])(e.ref,e.refs)}).reduce(function(e,r){return e[r.value.props.name]=r,e},{})}},render:function(){(0,p["default"])(this.props.name,"Fieldset found without a name prop. The children of this component will behave eratically");var e=(0,s.createErrorsRule)(this.props.errors,this.props.fieldErrors),r=(0,s.createFormableRule)(this.props.errors,this.props.fieldErrors,this.props.onSubmit,this.props.onChange);return i["default"].createElement("div",this.props,(0,a["default"])([e,r],this.props.children))}}),r.exports=t["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./helpers/cloneChildren":7,"./helpers/tree":14,"./helpers/values":16,warning:1}],5:[function(e,r,t){(function(r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u="undefined"!=typeof window?window.React:"undefined"!=typeof r?r.React:null,i=n(u),s=e("./helpers/uniq"),a=n(s),l=e("./helpers/values"),f=n(l),d=e("./helpers/cloneChildren"),p=n(d),c=e("./helpers/tree"),h=n(c),y=e("./helpers/identity"),g=n(y),v=function(){return{valid:!0,fieldValues:{},fieldErrors:{},errors:[]}};t.getBlankForm=v;var m=function(e){return e.map(function(e){return e.getValue&&e.getValue()}).extract()},b=function(e){var r=e&&e.props&&e.props.validators||[],t=e&&e.validators||[];return[].concat(r,t)};t["default"]=i["default"].createClass({displayName:"Form",propTypes:{addValidationFieldErrors:u.PropTypes.bool,onSubmit:u.PropTypes.func,onChange:u.PropTypes.func,showErrorsOnSubmit:u.PropTypes.bool,showErrorsOnChange:u.PropTypes.bool,validators:u.PropTypes.arrayOf(u.PropTypes.func),children:u.PropTypes.node},getDefaultProps:function(){return{onChange:function(){},onSubmit:function(){},showErrorsOnSubmit:!0,showErrorsOnChange:!1}},getInitialState:function(){return{fieldErrors:{},errors:[]}},serialize:function(){var e=this,r=(0,f["default"])(this.refs||{}).filter(function(e){return e&&(e.getInputs||e.getValue)}).map(function(e){return e.getInputs?e.getInputs():{ref:e}}).map(function(e){return(0,h["default"])(e.ref,e.refs)}).reduce(function(e,r){return e[r.value.props.name]=r,e},{}),t=(0,h["default"])(this,r),n=t.map(function(){return 1}).reduce(function(e,r){return e+r},0),u=0,i=v(),s=v();do{s=o({},i),i.fieldValues=m(t);var l=t.extend(function(r){var t=b(r.value),n=r.value.getValue?r.value.getValue():m(r),o=i.fieldValues,u=e.props.addValidationFieldErrors?s.fieldErrors:null;return t.map(function(e){return e(n,o,u)}).filter(g["default"])});i.fieldErrors=l.extract(),i.errors=l.reduce(function(e,r){return e.concat(r)},[]),u++}while(this.props.addValidationFieldErrors&&n>u&&JSON.stringify(i)!==JSON.stringify(s));return i.errors=(0,a["default"])(i.errors.filter(g["default"])),i.valid=!i.errors.length,i},onChange:function(){this.props.onChange(this.serialize()),this.props.showErrorsOnChange&&this.showFieldErrors()},onSubmit:function(e){e&&e.preventDefault&&e.preventDefault(),this.props.showErrorsOnSubmit&&this.showFieldErrors(),this.props.onSubmit(this.serialize())},onKeyDown:function(e){"Enter"===e.key&&this.onSubmit(e)},showFieldErrors:function(){var e=this.serialize(),r=e.fieldErrors,t=e.errors;return this.setState({errors:t,fieldErrors:r}),t},clearFieldErrors:function(){this.setState({fieldErrors:{},errors:[]})},render:function(){var e=(0,d.createErrorsRule)(this.state.errors,this.state.fieldErrors),r=(0,d.createFormableRule)(this.state.errors,this.state.fieldErrors,this.onSubmit,this.onChange);return i["default"].createElement("form",o({},this.props,{ref:"form",onSubmit:this.onSubmit,onChange:function(){},onKeyDown:this.onKeyDown}),(0,p["default"])([e,r],this.props.children))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./helpers/cloneChildren":7,"./helpers/identity":11,"./helpers/tree":14,"./helpers/uniq":15,"./helpers/values":16}],6:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=e("./form"),u=n(o),i=e("./fieldset"),s=n(i),a=e("./fieldlist"),l=n(a),f=e("./inputs/input"),d=n(f),p=e("./errors"),c=n(p),h=e("./validators/required"),y=n(h),g=e("./validators/greaterThan"),v=n(g),m=e("./validators/lessThan"),b=n(m),w=e("./validators/maxLength"),_=n(w),P=e("./validators/minLength"),E=n(P),O=e("./validators/test"),T=n(O),j=e("./validators/equalsField"),x=n(j),M={required:y["default"],greaterThan:v["default"],lessThan:b["default"],maxLength:_["default"],minLength:E["default"],test:T["default"],equalsField:x["default"]};t.Form=u["default"],t.getBlankForm=o.getBlankForm,t.Fieldset=s["default"],t.Fieldlist=l["default"],t.Input=d["default"],t.Errors=c["default"],t.validators=M,t["default"]=u["default"]},{"./errors":2,"./fieldlist":3,"./fieldset":4,"./form":5,"./inputs/input":17,"./validators/equalsField":18,"./validators/greaterThan":19,"./validators/lessThan":20,"./validators/maxLength":21,"./validators/minLength":22,"./validators/required":23,"./validators/test":24}],7:[function(e,r,t){(function(r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function u(e){return{predicate:function(){return!0},clone:function(r,t){return p["default"].cloneElement(r,{},f(e,r.props&&r.props.children,t))}}}function i(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return{predicate:function(e){return e.type&&"Errors"===e.type.displayName},clone:function(t){return p["default"].cloneElement(t,{errors:e,fieldErrors:r},t.props&&t.props.children)}}}function s(){for(var e=[],r=arguments.length,t=Array(r),n=0;r>n;n++)t[n]=arguments[n];return t.forEach(function(r){r&&r.length&&e.push.apply(e,o(r))}),e}function a(e,r,t,n){return function(o,u){return(0,m["default"])(!o.ref,'Attempting to attach ref "'+o.ref+'" to "'+o.props.name+'" will be bad for your health'),(0,m["default"])(-1===u.indexOf(o.props.name),'Duplicate name "'+o.props.name+'" found. Duplicate fields will be ignored'),u.push(o.props.name),{ref:o.ref||o.props.name,onChange:(0,g["default"])(n,o.props.onChange||h["default"]),onSubmit:(0,g["default"])(t,o.props.onSubmit||h["default"]),errors:e,fieldErrors:s(o.props.fieldErrors,r[o.props.name])}}}function l(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t=arguments.length<=2||void 0===arguments[2]?h["default"]:arguments[2],n=arguments.length<=3||void 0===arguments[3]?h["default"]:arguments[3];return{predicate:function(e){return e.props&&e.props.name},clone:function(o,u){return p["default"].cloneElement(o,a(e,r,t,n)(o,u),o.props&&o.props.children)}}}function f(e,r){var t=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];if(r){var n=function(){var n=[b].concat(o(e),[u(e)]),i=p["default"].Children.map(r,function(e){return n.find(function(r){return r.predicate(e)}).clone(e,t)});return{v:1==p["default"].Children.count(i)?i[0]:i}}();if("object"==typeof n)return n.v}}Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorsRule=i,t.createFormableRule=l,t["default"]=f;var d="undefined"!=typeof window?window.React:"undefined"!=typeof r?r.React:null,p=n(d),c=e("./identity"),h=n(c),y=e("./compose"),g=n(y),v=e("warning"),m=n(v),b={predicate:function(e){return"object"!=typeof e||null===e},clone:h["default"]}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./compose":8,"./identity":11,warning:1}],8:[function(e,r,t){"use strict";function n(e,r){return function(){return e(r.apply(void 0,arguments))}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,r.exports=t["default"]},{}],9:[function(e,r,t){"use strict";function n(e,r){var t=r.split("."),n=e,o=void 0;for(o=0;o<t.length;++o){if(void 0==n[t[o]])return;n=n[t[o]]}return n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,r.exports=t["default"]},{}],10:[function(e,r,t){"use strict";function n(e){return[].concat.apply([],e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,r.exports=t["default"]},{}],11:[function(e,r,t){"use strict";function n(e){return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,r.exports=t["default"]},{}],12:[function(e,r,t){"use strict";function n(e){return null==e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,r.exports=t["default"]},{}],13:[function(e,r,t){"use strict";function n(e,r){var t={};for(var n in r)t[n]=e(r[n],n);return t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,r.exports=t["default"]},{}],14:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(r){return r?r.map?r.map(e):"object"==typeof r?(0,s["default"])(e,r):void 0:void 0}}function u(e,r){return{value:e,children:r,map:function(t){return u(t(e),o(o(t))(r))},extract:function(){return r?o(function(e){return e.extract()})(r):e},extend:function(t){return u(t(u(e,r)),o(function(e){return e.extend(t)})(r))},reduce:function(t,n){return(0,l["default"])(r).reduce(function(e,r){return r.reduce(t,e)},t(n,e))}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var i=e("./mapObj"),s=n(i),a=e("./values"),l=n(a);r.exports=t["default"]},{"./mapObj":13,"./values":16}],15:[function(e,r,t){"use strict";function n(e){return e.reduce(function(e,r){return-1===e.indexOf(r)?e.concat(r):e},[])}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,r.exports=t["default"]},{}],16:[function(e,r,t){"use strict";function n(e){var r=[];for(var t in e)r=r.concat(e[t]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,r.exports=t["default"]},{}],17:[function(e,r,t){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n(u),s=function(e){return e};t["default"]=i["default"].createClass({displayName:"input",propTypes:{fieldErrors:u.PropTypes.arrayOf(u.PropTypes.string),validateOnBlur:u.PropTypes.bool,onChange:u.PropTypes.func,onSubmit:u.PropTypes.func,className:u.PropTypes.string},getDefaultProps:function(){return{onChange:s,onSubmit:s,className:""}},getValue:function(){return this.refs.input.value},onChange:function(e){this.props.validateOnBlur||this.props.onChange(e)},onBlur:function(){this.props.validateOnBlur&&this.props.onChange()},render:function(){var e=this.props.fieldErrors&&this.props.fieldErrors.length,r=this.props.className+" "+(e?"error":"");return i["default"].createElement("input",o({},this.props,{className:r,onChange:this.onChange,onBlur:this.onBlur,ref:"input"}))}}),r.exports=t["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,r){return function(t,n){return(0,i["default"])(n,e)!==t?r:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=e("../helpers/deepFind"),i=n(u);r.exports=t["default"]},{"../helpers/deepFind":9}],19:[function(e,r,t){"use strict";function n(e,r){return function(t){return parseFloat(t)<=e?r:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,r.exports=t["default"]},{}],20:[function(e,r,t){"use strict";function n(e,r){return function(t){return parseFloat(t)>=e?r:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,r.exports=t["default"]},{}],21:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,r){return function(t){return(0,i["default"])(t)||t.length>e?r:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=e("../helpers/isNil"),i=n(u);r.exports=t["default"]},{"../helpers/isNil":12}],22:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,r){return function(t){return(0,i["default"])(t)||t.length<e?r:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=e("../helpers/isNil"),i=n(u);r.exports=t["default"]},{"../helpers/isNil":12}],23:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return!e.trim().length}function u(e){return!Object.keys(e).length}function i(e){return function(r){return(0,a["default"])(r)?e:"string"==typeof r&&o(r)?e:"object"==typeof r&&u(r)?e:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var s=e("../helpers/isNil"),a=n(s);r.exports=t["default"]},{"../helpers/isNil":12}],24:[function(e,r,t){"use strict";function n(e,r){return function(t){var n=e&&e.test?e:new RegExp(e);return n.test(t)?void 0:r}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,r.exports=t["default"]},{}]},{},[6])(6)});